!function(){var t={initialized:!1,init:function(){},viewModel:{p2Images:[["./images/sample_1.jpg","./images/sample_2.jpg","./images/sample_3.jpg"],["./images/sample_4.jpg","./images/sample_5.jpg",""],["./images/sample_1.jpg","./images/sample_2.jpg","./images/sample_3.jpg"]],showArrowUp:!1,showArrowDown:!1,currentPage:1,totalPages:2,pageScrollInterval:1,browser:null,init:function(){this.changeArrow(),this.detectBrowser()},detectBrowser:function(){var t=navigator.userAgent;if(-1!==t.indexOf("MSIE")){var e=/MSIE\s*(\d\.[^;])+/g,r=e.exec(t);r&&(this.browser={name:"IE",version:r[1]})}},changeArrow:function(){1===this.currentPage?(this.showArrowUp=!0,this.showArrowDown=!1):this.currentPage===this.totalPages?(this.showArrowUp=!1,this.showArrowDown=!0):(this.showArrowUp=!0,this.showArrowDown=!0)},previousPage:function(){this.currentPage<0||this.scrollPage("up")},nextPage:function(){this.currentPage>this.totalPages||this.scrollPage("down")},scrollPage:function(t){var e=window.innerHeight,r=document.querySelectorAll("caption"),o=null,i=null;"down"===t?(o=r[this.currentPage-1],i=r[this.currentPage],"undefined"!=typeof $?($(o).animate({top:-e},1e3*this.pageScrollInterval),$(i).animate({top:0},1e3*this.pageScrollInterval)):(o.style.top=-e+"px",i.style.top="0px")):"up"===t&&(o=r[this.currentPage-1],i=r[this.currentPage-2],"undefined"!=typeof $?($(o).animate({top:e},1e3*this.pageScrollInterval),$(i).animate({top:0},1e3*this.pageScrollInterval)):(o.style.top=e+"px",i.style.top="0px")),(!this.browser||"IE"===this.browser.name&&this.browser.version>9)&&(o.style.transition="top "+this.pageScrollInterval+"s",o.style["-moz-transition"]="top "+this.pageScrollInterval+"s",o.style["-webkit-transition"]="top "+this.pageScrollInterval+"s",o.style["-o-transition"]="top "+this.pageScrollInterval+"s",i.style.transition="top "+this.pageScrollInterval+"s",i.style["-moz-transition"]="top "+this.pageScrollInterval+"s",i.style["-webkit-transition"]="top "+this.pageScrollInterval+"s",i.style["-o-transition"]="top "+this.pageScrollInterval+"s");var n=this;setTimeout(function(){"down"===t?n.currentPage+=1:"up"===t&&(n.currentPage-=1),n.changeArrow(),m.redraw()},1e3*this.pageScrollInterval)}},controller:function(){var e=t.viewModel;return e.init(),e},view:function(t){var e=location.href,r=-1!==e.indexOf("http");return[m("header",[m("div.left",[m("span.logo"),m("span.txt","DIEXT LAB")]),m("div.right",m("nav",[m("li","WORKS"),m("li","ABOUT")])),t.showArrowDown?m("div.scrollDown",{onclick:t.previousPage.bind(t)},m("span.icon")):"",m("div.clear")]),m("caption.p1",[m("div.card",{onmousemove:function(t){var e=(window.innerWidth/2-t.pageX)/20,r=(window.innerHeight/2-t.pageY)/20;this.setAttribute("style","transform:rotateY("+e+"deg) rotateX("+r+"deg);-webkit-transform: rotateY("+e+"deg) rotateX("+r+"deg);-moz-transform: rotateY("+e+"deg) rotateX("+r+"deg)")}},[m("img.frame",{src:"./images/p1.png"}),m("img.john",{src:"./images/p2.png"}),m("img.lower",{src:"./images/p3.png"})])]),m("caption.p2",t.p2Images.map(function(t){return m("div.row",t.map(function(t){var e={},o=!1;return t?r?e["data-url"]=t:e.src=t:o=!0,m("div.img",[r||o?m("span.loading","Loading"):"",m("img",e)])}))})),m("footer",[t.showArrowUp?m("div.scrollUp",{onclick:t.nextPage.bind(t)},m("span.icon")):""])]}};m.mount(document.querySelector(".diext"),t)}();